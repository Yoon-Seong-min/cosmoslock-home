<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXAUTH™ (넥소스) - 글로벌 특허기술 기반 AI 관계인증 시스템 | 차세대 본인인증 혁신</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0e27;
            color: #fff;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, #3b82f6 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, #8b5cf6 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, #ec4899 0%, transparent 50%);
            opacity: 0.1;
            z-index: -1;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            border-radius: 20px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                rgba(139, 92, 246, 0.3) 0%, 
                transparent 30%, 
                rgba(59, 130, 246, 0.2) 60%, 
                transparent 100%);
            animation: rotate 30s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .header h1 {
            font-size: 3.5em;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 900;
            position: relative;
            z-index: 10;
        }
        
        .header .tagline {
            font-size: 1.5em;
            color: #94a3b8;
            margin-bottom: 10px;
            position: relative;
            z-index: 10;
        }
        
        .header .sub-tagline {
            font-size: 1.1em;
            color: #64748b;
            position: relative;
            z-index: 10;
        }
        
        .section {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .section h2 {
            font-size: 2em;
            margin-bottom: 30px;
            color: #f1f5f9;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .process-visualization {
            position: relative;
            background: #0f172a;
            border-radius: 20px;
            padding: 40px;
            min-height: 600px;
            overflow: hidden;
        }
        
        .stage-container {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        
        .stage-container.active {
            display: block;
        }
        
        .stage-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .stage-header h3 {
            font-size: 1.8em;
            color: #3b82f6;
            margin-bottom: 10px;
        }
        
        .user-card {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin: 20px auto;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
            animation: pulse 2s infinite;
            position: relative;
        }
        
        .user-card .info-item {
            opacity: 0;
            transform: translateY(20px);
            animation: slideUpFadeIn 0.6s ease-out forwards;
        }
        
        .user-card .info-item:nth-child(1) { animation-delay: 0.2s; }
        .user-card .info-item:nth-child(2) { animation-delay: 0.4s; }
        .user-card .info-item:nth-child(3) { animation-delay: 0.6s; }
        .user-card .info-item:nth-child(4) { animation-delay: 0.8s; }
        
        @keyframes slideUpFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .relation-groups {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .relation-group {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
        }
        
        .relation-group.active {
            border-color: #3b82f6;
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.6);
            transform: scale(1.05);
        }
        
        .relation-group.highlighting {
            animation: groupGlow 0.5s ease-out;
        }
        
        @keyframes groupGlow {
            0%, 100% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.6); }
            50% { box-shadow: 0 0 50px rgba(59, 130, 246, 0.9); }
        }
        
        .relation-group h4 {
            color: #3b82f6;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .message-container {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .message {
            background: rgba(59, 130, 246, 0.1);
            border-left: 3px solid #3b82f6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            opacity: 0;
            animation: slideInRight 0.5s ease-out forwards;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }
        
        .message.highlighting {
            font-size: 1.1em;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            background: rgba(59, 130, 246, 0.2);
        }
        
        .message.sent {
            background: rgba(139, 92, 246, 0.1);
            border-left-color: #8b5cf6;
            margin-left: 30px;
        }
        
        .message.received {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: #10b981;
            margin-right: 30px;
        }
        
        .ai-analysis-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .analysis-panel {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .analysis-panel h4 {
            color: #3b82f6;
            margin-bottom: 20px;
        }
        
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
            animation: scan 3s linear infinite;
        }
        
        .pattern-item {
            padding: 10px;
            margin: 5px 0;
            background: rgba(59, 130, 246, 0.05);
            border-radius: 8px;
            transition: all 0.3s ease;
            opacity: 0;
        }
        
        .pattern-item.slide-left {
            animation: slideFromLeft 0.5s ease-out forwards;
        }
        
        .pattern-item.slide-right {
            animation: slideFromRight 0.5s ease-out forwards;
        }
        
        @keyframes slideFromLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideFromRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .pattern-item.highlighted {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .speed-control {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 15px;
        }
        
        .speed-control label {
            color: #94a3b8;
            font-weight: 500;
            min-width: 120px;
        }
        
        .slider {
            flex: 1;
            height: 8px;
            background: #334155;
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: #3b82f6;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3);
        }
        
        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.6);
        }
        
        .slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: #3b82f6;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3);
        }
        
        .speed-value {
            min-width: 30px;
            text-align: center;
            font-weight: bold;
            color: #3b82f6;
            font-size: 1.1em;
        }
        
        .stage-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .stage-btn {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3b82f6;
            color: #3b82f6;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            font-weight: 500;
        }
        
        .stage-btn.active {
            background: #3b82f6;
            color: white;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.5);
        }
        
        .stage-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }
        
        .test-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .control-btn:hover::before {
            left: 100%;
        }
        
        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.5);
        }
        
        .control-btn.secondary {
            background: transparent;
            border: 2px solid #3b82f6;
            color: #3b82f6;
        }
        
        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .mode-switch {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            padding: 5px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 40px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }
        
        .mode-btn {
            padding: 10px 30px;
            background: transparent;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            border-radius: 30px;
            transition: all 0.3s ease;
        }
        
        .mode-btn.active {
            background: #3b82f6;
            color: white;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #334155;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            width: 0%;
            transition: width 2s ease-out;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: shimmer 2s infinite;
        }
        
        .test-interface {
            background: #0f172a;
            border-radius: 20px;
            padding: 30px;
        }
        
        .input-section {
            margin: 20px 0;
        }
        
        .input-section h4 {
            color: #3b82f6;
            margin-bottom: 15px;
        }
        
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .input-field {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .input-field label {
            color: #94a3b8;
            font-size: 0.9em;
        }
        
        .input-field input {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .input-field input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }
        
        .input-field input.error {
            border-color: #ef4444;
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
        }
        
        .verification-result {
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .verification-result.success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid #10b981;
        }
        
        .verification-result.failure {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid #ef4444;
        }
        
        .verification-result.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .result-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }
        
        .result-text {
            font-size: 1.5em;
            margin-bottom: 10px;
            display: inline-block;
        }
        
        .result-text.success {
            color: #10b981;
        }
        
        .result-text.failure {
            color: #ef4444;
        }
        
        .result-text.rotating {
            animation: rotate360 2s ease-in-out;
        }
        
        @keyframes rotate360 {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .trust-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .trust-score.success {
            color: #10b981;
        }
        
        .trust-score.failure {
            color: #ef4444;
        }
        
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(15, 23, 42, 0.95);
            border: 2px solid #3b82f6;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            z-index: 10000;
            display: none;
            animation: popupIn 0.3s ease-out;
            max-width: 400px;
            min-width: 300px;
        }
        
        .popup.show {
            display: block;
        }
        
        .popup.error {
            border-color: #ef4444;
        }
        
        @keyframes popupIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        .popup h3 {
            color: #3b82f6;
            margin-bottom: 15px;
        }
        
        .popup.error h3 {
            color: #ef4444;
        }
        
        .popup button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        .popup.error button {
            background: #ef4444;
        }
        
        .popup button:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }
        
        .popup.error button:hover {
            background: #dc2626;
        }
        
        .step-tab-btn {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 20px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            color: #e2e8f0;
            min-height: 130px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .step-tab-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }
        
        .step-tab-btn.active {
            background: rgba(59, 130, 246, 0.3);
            border-color: #3b82f6;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }
        
        .step-tab-btn.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            animation: pulse 2s infinite;
        }
        
        .step-tab-btn .step-icon {
            font-size: 2.2em;
            margin-bottom: 8px;
        }
        
        .step-tab-btn .step-title {
            font-weight: bold;
            color: #3b82f6;
            font-size: 1.1em;
            margin-bottom: 5px;
        }
        
        .step-tab-btn .step-desc {
            font-size: 1em;
            color: #94a3b8;
            margin-top: 3px;
            margin-bottom: 8px;
        }
        
        .step-tab-btn .step-status {
            font-size: 0.9em;
            color: #10b981;
            margin-top: 8px;
            padding: 4px 8px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            font-weight: 500;
        }
        
        .visualization-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            height: 80vh;
            max-height: 700px;
            background: rgba(15, 23, 42, 0.98);
            border: 2px solid #3b82f6;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: none;
            overflow: hidden;
        }
        
        .visualization-modal.show {
            display: block;
            animation: modalIn 0.5s ease-out;
        }
        
        @keyframes modalIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        .visualization-modal h3 {
            color: #3b82f6;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .visualization-content {
            width: 100%;
            height: calc(100% - 80px);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        
        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }
        
        .viz-user {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            position: absolute;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .viz-server {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: white;
            position: absolute;
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.5);
        }
        
        .data-flow {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #3b82f6;
            border-radius: 50%;
            opacity: 0;
            animation: dataFlow 2s ease-out;
        }
        
        @keyframes dataFlow {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }
        
        .viz-message {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid #3b82f6;
            border-radius: 10px;
            padding: 10px 15px;
            color: white;
            position: absolute;
            opacity: 0;
            animation: messageIn 0.5s ease-out forwards;
        }
        
        @keyframes messageIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
            }
            50% {
                transform: scale(1.02);
                box-shadow: 0 15px 40px rgba(59, 130, 246, 0.5);
            }
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
        
        .patent-card {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .patent-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(16, 185, 129, 0.6);
        }
        
        .wave-effect {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(16, 185, 129, 0.3),
                transparent
            );
            animation: waveSlide 3s ease-in-out infinite;
        }
        
        @keyframes waveSlide {
            0% {
                left: -100%;
                opacity: 0;
            }
            50% {
                left: 0%;
                opacity: 1;
            }
            100% {
                left: 100%;
                opacity: 0;
            }
        }
        
        .patent-card:nth-child(1) .wave-effect {
            animation-delay: 0s;
        }
        
        .patent-card:nth-child(2) .wave-effect {
            animation-delay: 0.5s;
        }
        
        .patent-card:nth-child(3) .wave-effect {
            animation-delay: 1s;
        }
        
        .patent-card:nth-child(4) .wave-effect {
            animation-delay: 1.5s;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .investment-highlight-card {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .investment-highlight-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.3);
        }
        
        .wave-ripple {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        
        .wave-ripple::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.05) 25%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0.05) 75%,
                transparent 100%
            );
            animation: innerWave 4s ease-in-out infinite;
            z-index: 1;
        }
        
        @keyframes innerWave {
            0% {
                left: -100%;
                opacity: 0;
            }
            30% {
                opacity: 1;
            }
            70% {
                opacity: 1;
            }
            100% {
                left: 100%;
                opacity: 0;
            }
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #3b82f6, transparent);
            border-radius: 50%;
            animation: floatUp 8s linear infinite;
            opacity: 0;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translateY(100vh) translateX(0px);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) translateX(50px);
            }
        }
        
        .premium-glow {
            box-shadow: 
                0 0 20px rgba(59, 130, 246, 0.3),
                0 0 40px rgba(139, 92, 246, 0.2),
                0 0 60px rgba(16, 185, 129, 0.1);
            transition: all 0.3s ease;
        }
        
        .premium-glow:hover {
            box-shadow: 
                0 0 30px rgba(59, 130, 246, 0.5),
                0 0 60px rgba(139, 92, 246, 0.3),
                0 0 90px rgba(16, 185, 129, 0.2);
            transform: translateY(-2px);
        }
        
        .enhanced-interaction {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .enhanced-interaction:hover {
            transform: translateY(-5px) scale(1.02);
        }
        
        .process-visualization {
            position: relative;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            border-radius: 20px;
            padding: 40px;
            min-height: 600px;
            overflow: hidden;
            box-shadow: 
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .process-visualization::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .section {
            background: rgba(15, 23, 42, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.5), transparent);
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 2.5em; }
            .relation-groups { 
                grid-template-columns: 1fr; 
                gap: 15px;
            }
            .ai-analysis-container { grid-template-columns: 1fr; }
            .visualization-modal { 
                width: 95%; 
                height: 85vh;
                max-height: 600px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header premium-glow">
            <div class="floating-particles" id="headerParticles"></div>
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px; gap: 20px;">
                <svg width="80" height="80" viewBox="0 0 80 80" style="filter: drop-shadow(0 4px 12px rgba(59, 130, 246, 0.3));">
                    <defs>
                        <linearGradient id="nexauthGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#2563EB"/>
                            <stop offset="50%" style="stop-color:#7C3AED"/>
                            <stop offset="100%" style="stop-color:#059669"/>
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feDropShadow dx="0" dy="0" stdDeviation="4" flood-color="#2563EB" flood-opacity="0.8"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                        <filter id="intenseBright">
                            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                            <feColorMatrix type="matrix" values="1.5 0 0 0 0  0 1.5 0 0 0  0 0 2 0 0  0 0 0 1 0"/>
                            <feDropShadow dx="0" dy="0" stdDeviation="6" flood-color="#ffffff" flood-opacity="0.9"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <!-- Outer hexagon ring -->
                    <polygon points="40,8 60,20 60,40 40,52 20,40 20,20" 
                             fill="none" 
                             stroke="url(#nexauthGradient)" 
                             stroke-width="2" 
                             opacity="0.6"/>
                    
                    <!-- Central nexus circle -->
                    <circle cx="40" cy="30" r="8" 
                            fill="url(#nexauthGradient)" 
                            filter="url(#intenseBright)">
                        <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- Enhanced glow ring -->
                    <circle cx="40" cy="30" r="10" 
                            fill="none" 
                            stroke="url(#nexauthGradient)" 
                            stroke-width="2" 
                            opacity="0.6"
                            filter="url(#glow)">
                        <animate attributeName="r" values="10;14;10" dur="3s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.6;0.2;0.6" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- Network nodes -->
                    <circle cx="25" cy="15" r="3" fill="#2563EB"/>
                    <circle cx="55" cy="15" r="3" fill="#7C3AED"/>
                    <circle cx="65" cy="30" r="3" fill="#059669"/>
                    <circle cx="55" cy="45" r="3" fill="#2563EB"/>
                    <circle cx="25" cy="45" r="3" fill="#7C3AED"/>
                    <circle cx="15" cy="30" r="3" fill="#059669"/>
                    
                    <!-- Connection lines to center -->
                    <line x1="25" y1="15" x2="34" y2="25" stroke="url(#nexauthGradient)" stroke-width="1.5" opacity="0.7"/>
                    <line x1="55" y1="15" x2="46" y2="25" stroke="url(#nexauthGradient)" stroke-width="1.5" opacity="0.7"/>
                    <line x1="65" y1="30" x2="48" y2="30" stroke="url(#nexauthGradient)" stroke-width="1.5" opacity="0.7"/>
                    <line x1="55" y1="45" x2="46" y2="35" stroke="url(#nexauthGradient)" stroke-width="1.5" opacity="0.7"/>
                    <line x1="25" y1="45" x2="34" y2="35" stroke="url(#nexauthGradient)" stroke-width="1.5" opacity="0.7"/>
                    <line x1="15" y1="30" x2="32" y2="30" stroke="url(#nexauthGradient)" stroke-width="1.5" opacity="0.7"/>
                    
                    <!-- Authentication shield symbol in center -->
                    <path d="M40 22 L35 26 L40 30 L45 26 Z" 
                          fill="white" 
                          stroke="none"/>
                    
                    <!-- Pulse animation ring -->
                    <circle cx="40" cy="30" r="12" 
                            fill="none" 
                            stroke="url(#nexauthGradient)" 
                            stroke-width="1" 
                            opacity="0.4">
                        <animate attributeName="r" values="12;16;12" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.4;0.1;0.4" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- Company text -->
                    <text x="40" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" font-weight="bold" fill="url(#nexauthGradient)">
                        NEXAUTH
                    </text>
                    <text x="40" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="3" fill="#94a3b8">
                        The Nexus of Trust
                    </text>
                </svg>
                <div>
                    <h1 style="margin: 0; background: linear-gradient(135deg, #2563EB, #7C3AED, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">NEXAUTH™</h1>
                    <div style="font-size: 1.2em; color: #94a3b8; margin-top: 5px;">(넥소스)</div>
                </div>
            </div>
            <p class="tagline">The Nexus of Trust - AI-Powered Relationship-Based Identity Verification System</p>
            <p class="sub-tagline">관계가 증명하는 진짜 나 | 글로벌 특허기술로 검증된 관계 빅데이터 기반 100% 정확한 본인인증의 미래</p>
            
            <div style="margin-top: 30px; padding: 20px; background: rgba(59, 130, 246, 0.1); border-radius: 15px; border: 1px solid rgba(59, 130, 246, 0.3); position: relative; z-index: 10;">
                <h3 style="color: #3b82f6; margin-bottom: 15px; font-size: 1.2em;">🏆 글로벌 원천특허 & 상표권 보유</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                    <div class="patent-card" style="text-align: center; padding: 15px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; position: relative; overflow: hidden; border: 1px solid rgba(16, 185, 129, 0.3);">
                        <div class="wave-effect"></div>
                        <div style="font-weight: bold; color: #10b981; font-size: 170%;">🇰🇷</div>
                        <div style="color: #94a3b8; margin-top: 5px;">10-2468849</div>
                        <div style="color: #f59e0b; font-size: 0.8em;">NEXAUTH 원천특허</div>
                    </div>
                    <div class="patent-card" style="text-align: center; padding: 15px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; position: relative; overflow: hidden; border: 1px solid rgba(59, 130, 246, 0.3);">
                        <div class="wave-effect"></div>
                        <div style="font-weight: bold; color: #10b981; font-size: 170%;">🇺🇸</div>
                        <div style="color: #94a3b8; margin-top: 5px;">US 12074871</div>
                    </div>
                    <div class="patent-card" style="text-align: center; padding: 15px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; position: relative; overflow: hidden; border: 1px solid rgba(139, 92, 246, 0.3);">
                        <div class="wave-effect"></div>
                        <div style="font-weight: bold; color: #10b981; font-size: 170%;">🇪🇺</div>
                        <div style="color: #94a3b8; margin-top: 5px;">EP 4044052</div>
                    </div>
                    <div class="patent-card" style="text-align: center; padding: 15px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; position: relative; overflow: hidden; border: 1px solid rgba(239, 68, 68, 0.3);">
                        <div class="wave-effect"></div>
                        <div style="font-weight: bold; color: #10b981; font-size: 170%;">🇯🇵</div>
                        <div style="color: #94a3b8; margin-top: 5px;">JP 07245390</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(16, 185, 129, 0.1); border-radius: 10px; border: 1px solid rgba(16, 185, 129, 0.3); text-align: center;">
                    <h4 style="color: #10b981; margin-bottom: 10px; font-size: 1.1em;">📝 상표권 출원 현황</h4>
                    <div style="color: #94a3b8; font-size: 0.95em;">
                        <strong>NEXAUTH™</strong> 상표출원 | 출원일: 2025.6.6 | 상표출원번호: 40-2025-0097344
                        <div style="font-size: 0.85em; margin-top: 5px; color: #64748b;">
                            "The Nexus of Trust" - 관계기반 인증의 새로운 패러다임
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section enhanced-interaction">
            <h2>🎯 인증 프로세스 데모</h2>
            
            <div class="speed-control">
                <label>진행 속도:</label>
                <input type="range" class="slider" id="visualSpeed" min="1" max="10" value="5">
                <span class="speed-value" id="visualSpeedValue">5</span>
            </div>
            
            <div class="stage-nav">
                <button class="stage-btn active" onclick="showStage(1)">1단계: 인증 요청</button>
                <button class="stage-btn" onclick="showStage(2)">2단계: 관계인 확인</button>
                <button class="stage-btn" onclick="showStage(3)">3단계: AI 분석</button>
                <button class="stage-btn" onclick="showStage(4)">4단계: 인증 완료</button>
            </div>
            
            <div class="process-visualization">
                <div class="stage-container active" id="stage1">
                    <div class="stage-header">
                        <h3>1단계: 본인인증 요청</h3>
                        <p>사용자가 본인인증을 요청합니다</p>
                    </div>
                    <div class="user-card">
                        <div class="info-item" style="font-size: 4em; margin-bottom: 20px;">👤</div>
                        <h4 class="info-item" id="demoUserName">김철수</h4>
                        <p class="info-item" id="demoUserPhone">010-1234-5678</p>
                        <p class="info-item" style="margin-top: 20px; font-size: 0.9em; opacity: 0.8;">
                            성명, 사진, 전화번호로<br>본인인증 요청
                        </p>
                    </div>
                </div>
                
                <div class="stage-container" id="stage2">
                    <div class="stage-header">
                        <h3>2단계: 관계인 확인</h3>
                        <p>일상적인 대화 패턴을 통해 관계 검증</p>
                    </div>
                    <div class="relation-groups">
                        <div class="relation-group" id="familyGroup">
                            <h4>👨‍👩‍👧‍👦 가족</h4>
                            <div class="message-container" id="familyMessages"></div>
                        </div>
                        <div class="relation-group" id="workGroup">
                            <h4>💼 직장</h4>
                            <div class="message-container" id="workMessages"></div>
                        </div>
                        <div class="relation-group" id="friendGroup">
                            <h4>👥 친구</h4>
                            <div class="message-container" id="friendMessages"></div>
                        </div>
                        <div class="relation-group" id="schoolGroup">
                            <h4>🎓 동창</h4>
                            <div class="message-container" id="schoolMessages"></div>
                        </div>
                        <div class="relation-group" id="hobbyGroup">
                            <h4>🎨 취미</h4>
                            <div class="message-container" id="hobbyMessages"></div>
                        </div>
                    </div>
                </div>
                
                <div class="stage-container" id="stage3">
                    <div class="stage-header">
                        <h3>3단계: AI 빅데이터 분석</h3>
                        <p>통신 패턴을 분석하여 동일성 검증</p>
                    </div>
                    <div class="ai-analysis-container">
                        <div class="analysis-panel">
                            <h4>📱 통신 내역 패턴</h4>
                            <div class="scan-line"></div>
                            <div id="communicationPatterns"></div>
                        </div>
                        <div class="analysis-panel">
                            <h4>🤖 빅데이터 매칭</h4>
                            <div class="scan-line" style="animation-delay: 0.5s;"></div>
                            <div id="bigDataPatterns"></div>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="analysisProgress"></div>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p id="analysisResult" style="font-size: 1.2em;"></p>
                    </div>
                </div>
                
                <div class="stage-container" id="stage4">
                    <div class="stage-header">
                        <h3>4단계: 인증 완료</h3>
                        <p>동일성 확인 및 인증 승인</p>
                    </div>
                    <div class="verification-result success show">
                        <div class="result-icon">✅</div>
                        <div class="result-text success rotating">본인인증 완료</div>
                        <div class="trust-score success" id="demoTrustScore">신뢰도: 100%</div>
                        <p style="color: #94a3b8;" id="demoResultDetails">
                            관계인 11명 확인 완료 (가족 3명, 직장 2명, 친구 2명, 동창 2명, 취미 2명)<br>
                            통신 패턴 일치율: 100%<br>
                            빅데이터 정합성: 100%
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section enhanced-interaction">
            <h2>🧪 인증 프로세스 테스트</h2>
            
            <div class="mode-switch">
                <button class="mode-btn" onclick="setMode('manual')">수동 모드</button>
                <button class="mode-btn active" onclick="setMode('auto')">자동 모드</button>
            </div>
            
            <div class="speed-control">
                <label>자동 모드 속도:</label>
                <input type="range" class="slider" id="autoSpeed" min="1" max="10" value="5">
                <span class="speed-value" id="autoSpeedValue">5</span>
            </div>
            
            <div class="test-interface">
                <div class="input-section" id="manualInputs">
                    <h4>본인인증 요청 정보</h4>
                    <div class="input-group">
                        <div class="input-field">
                            <label>성명</label>
                            <input type="text" id="userName" placeholder="이름을 입력하세요" onchange="updateDemoData()">
                        </div>
                        <div class="input-field">
                            <label>전화번호</label>
                            <input type="tel" id="userPhone" placeholder="010-0000-0000" onchange="updateDemoData()">
                        </div>
                        <div class="input-field">
                            <label>비밀번호</label>
                            <input type="password" id="userPassword" placeholder="비밀번호" onchange="updateDemoData()">
                        </div>
                    </div>
                </div>
                
                <div class="step-tabs-section" style="margin: 30px 0; padding: 25px; background: rgba(30, 41, 59, 0.5); border-radius: 15px;">
                    <h4 style="color: #3b82f6; margin-bottom: 20px; text-align: center;">🚀 인증 프로세스 단계별 테스트</h4>
                    
                    <div class="step-tabs-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 25px;">
                        <button class="step-tab-btn active" onclick="executeStep(1)" data-step="1">
                            <div class="step-icon">📝</div>
                            <div class="step-title">1단계</div>
                            <div class="step-desc">인증 요청</div>
                            <div class="step-status" id="status-1">정보 확인 완료</div>
                        </button>
                        <button class="step-tab-btn" onclick="executeStep(2)" data-step="2">
                            <div class="step-icon">📞</div>
                            <div class="step-title">2단계</div>
                            <div class="step-desc">관계인 확인</div>
                            <div class="step-status" id="status-2">발송 완료</div>
                        </button>
                        <button class="step-tab-btn" onclick="executeStep(3)" data-step="3">
                            <div class="step-icon">✅</div>
                            <div class="step-title">3단계</div>
                            <div class="step-desc">응답 수신</div>
                            <div class="step-status" id="status-3">✅ 11명 응답 완료</div>
                        </button>
                        <button class="step-tab-btn" onclick="executeStep(4)" data-step="4">
                            <div class="step-icon">🤖</div>
                            <div class="step-title">4단계</div>
                            <div class="step-desc">AI 분석</div>
                            <div class="step-status" id="status-4">✅ 분석 완료 (정합성 100%)</div>
                        </button>
                        <button class="step-tab-btn" onclick="executeStep(5)" data-step="5">
                            <div class="step-icon">🔍</div>
                            <div class="step-title">5단계</div>
                            <div class="step-desc">동일성 검증</div>
                            <div class="step-status" id="status-5">✅ 검증 완료 (신뢰도 100%)</div>
                        </button>
                        <button class="step-tab-btn" onclick="executeStep(6)" data-step="6">
                            <div class="step-icon">🎉</div>
                            <div class="step-title">6단계</div>
                            <div class="step-desc">인증 완료</div>
                            <div class="step-status" id="status-6">✅ 인증 완료</div>
                        </button>
                    </div>
                </div>
                
                <div class="test-controls">
                    <button class="control-btn" id="testBtn" onclick="startFullTest()">
                        <span id="testBtnText">전체 프로세스 실행</span>
                    </button>
                    <button class="control-btn secondary" onclick="resetTest()">초기화</button>
                </div>
                
                <div id="testProgress" style="margin-top: 30px;"></div>
            </div>
        </div>
        
        <div class="section enhanced-interaction">
            <h2>💎 핵심 경쟁력 & 투자 가치</h2>
            
            <div style="background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(124, 58, 237, 0.1) 50%, rgba(5, 150, 105, 0.1) 100%); border-radius: 15px; padding: 30px; margin-bottom: 30px; text-align: center; border: 1px solid rgba(37, 99, 235, 0.2);">
                <h3 style="background: linear-gradient(135deg, #2563EB, #7C3AED, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 20px; font-size: 1.5em;">🚀 NEXAUTH Investment Highlights</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div class="investment-highlight-card" style="background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(37, 99, 235, 0.05)); padding: 20px; border-radius: 10px; border: 1px solid rgba(37, 99, 235, 0.2); position: relative; overflow: hidden;">
                        <div class="wave-ripple" style="--wave-color: rgba(37, 99, 235, 0.3); animation-delay: 0s;"></div>
                        <div style="font-size: 2em; color: #2563EB; font-weight: bold; position: relative; z-index: 2;">4개국</div>
                        <div style="color: #94a3b8; position: relative; z-index: 2;">글로벌 특허 보유</div>
                        <div style="font-size: 0.9em; color: #64748b; position: relative; z-index: 2;">관계인증 원천기술</div>
                    </div>
                    <div class="investment-highlight-card" style="background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(124, 58, 237, 0.05)); padding: 20px; border-radius: 10px; border: 1px solid rgba(124, 58, 237, 0.2); position: relative; overflow: hidden;">
                        <div class="wave-ripple" style="--wave-color: rgba(124, 58, 237, 0.3); animation-delay: 1s;"></div>
                        <div style="font-size: 2em; color: #7C3AED; font-weight: bold; position: relative; z-index: 2;">$808B</div>
                        <div style="color: #94a3b8; position: relative; z-index: 2;">글로벌 인증 시장 2034</div>
                        <div style="font-size: 0.9em; color: #64748b; position: relative; z-index: 2;">연 23.6% 폭발적 성장</div>
                    </div>
                    <div class="investment-highlight-card" style="background: linear-gradient(135deg, rgba(5, 150, 105, 0.1), rgba(5, 150, 105, 0.05)); padding: 20px; border-radius: 10px; border: 1px solid rgba(5, 150, 105, 0.2); position: relative; overflow: hidden;">
                        <div class="wave-ripple" style="--wave-color: rgba(5, 150, 105, 0.3); animation-delay: 2s;"></div>
                        <div style="font-size: 2em; color: #059669; font-weight: bold; position: relative; z-index: 2;">Zero</div>
                        <div style="color: #94a3b8; position: relative; z-index: 2;">하드웨어 의존성</div>
                        <div style="font-size: 0.9em; color: #64748b; position: relative; z-index: 2;">순수 소프트웨어</div>
                    </div>
                    <div class="investment-highlight-card" style="background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(5, 150, 105, 0.1)); padding: 20px; border-radius: 10px; border: 1px solid rgba(37, 99, 235, 0.2); position: relative; overflow: hidden;">
                        <div class="wave-ripple" style="--wave-color: linear-gradient(90deg, rgba(37, 99, 235, 0.3), rgba(5, 150, 105, 0.3)); animation-delay: 3s;"></div>
                        <div style="font-size: 2em; background: linear-gradient(135deg, #2563EB, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: bold; position: relative; z-index: 2;">100%</div>
                        <div style="color: #94a3b8; position: relative; z-index: 2;">인증 정확도</div>
                        <div style="font-size: 0.9em; color: #64748b; position: relative; z-index: 2;">The Nexus of Trust</div>
                    </div>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card premium-glow">
                    <div class="stat-number">World First</div>
                    <div>관계기반 인증 기술</div>
                    <div style="font-size: 0.8em; color: #64748b; margin-top: 10px;">혁신적 인증 패러다임</div>
                </div>
                <div class="stat-card premium-glow">
                    <div class="stat-number">< 8초</div>
                    <div>평균 처리 시간</div>
                    <div style="font-size: 0.8em; color: #64748b; margin-top: 10px;">초고속 실시간 인증</div>
                </div>
                <div class="stat-card premium-glow">
                    <div class="stat-number">AI/ML</div>
                    <div>빅데이터 분석</div>
                    <div style="font-size: 0.8em; color: #64748b; margin-top: 10px;">딥러닝 패턴 인식</div>
                </div>
                <div class="stat-card premium-glow">
                    <div class="stat-number">B2B/B2C</div>
                    <div>무제한 확장성</div>
                    <div style="font-size: 0.8em; color: #64748b; margin-top: 10px;">전산업 적용 가능</div>
                </div>
            </div>
            
            <div style="background: rgba(16, 185, 129, 0.1); border-radius: 15px; padding: 25px; margin-top: 20px;">
                <h3 style="color: #10b981; margin-bottom: 15px;">🌍 Market Opportunity</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin: 10px 0; padding-left: 20px; position: relative;">
                        <span style="position: absolute; left: 0; color: #10b981;">✓</span>
                        <strong>글로벌 디지털 신원인증 시장:</strong> 2025년 $120B → 2034년 $808B 폭발적 성장 (연 23.6% 성장)
                    </li>
                    <li style="margin: 10px 0; padding-left: 20px; position: relative;">
                        <span style="position: absolute; left: 0; color: #10b981;">✓</span>
                        <strong>기존 솔루션 한계:</strong> 하드웨어 의존, 높은 비용, 낮은 정확도
                    </li>
                    <li style="margin: 10px 0; padding-left: 20px; position: relative;">
                        <span style="position: absolute; left: 0; color: #059669;">✓</span>
                        <strong style="background: linear-gradient(135deg, #2563EB, #7C3AED); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">NEXAUTH 차별점:</strong> 소프트웨어 기반, 제로 하드웨어 비용, 100% 정확도 (The Nexus of Trust)
                    </li>
                    <li style="margin: 10px 0; padding-left: 20px; position: relative;">
                        <span style="position: absolute; left: 0; color: #10b981;">✓</span>
                        <strong>수익모델:</strong> SaaS 구독, API 사용료, 라이선스 수익
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- 문의 섹션 -->
        <div class="section enhanced-interaction" style="margin-top: 40px; text-align: center; background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(124, 58, 237, 0.1) 50%, rgba(5, 150, 105, 0.1) 100%); border: 2px solid rgba(59, 130, 246, 0.3);">
            <h2 style="margin-bottom: 30px; background: linear-gradient(135deg, #2563EB, #7C3AED, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">📧 문의 및 협력</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 30px 0;">
                <div class="premium-glow" style="padding: 25px; background: rgba(59, 130, 246, 0.1); border-radius: 15px; border: 1px solid rgba(59, 130, 246, 0.3); transition: all 0.3s ease;">
                    <div style="font-size: 2.5em; margin-bottom: 15px; color: #3b82f6;">💼</div>
                    <h4 style="color: #3b82f6; margin-bottom: 15px; font-size: 1.2em;">비즈니스 문의</h4>
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <a href="mailto:intrepid7@naver.com" style="color: #e2e8f0; text-decoration: none; font-weight: 500; font-size: 1.1em; transition: color 0.3s ease;" onmouseover="this.style.color='#3b82f6'" onmouseout="this.style.color='#e2e8f0'">
                            📨 intrepid7@naver.com
                        </a>
                    </div>
                    <div style="color: #94a3b8; font-size: 0.9em; margin-top: 10px;">
                        • 투자 상담 • 기술 라이선스<br>
                        • 파트너십 • 사업 제휴
                    </div>
                </div>
                
                <div class="premium-glow" style="padding: 25px; background: rgba(16, 185, 129, 0.1); border-radius: 15px; border: 1px solid rgba(16, 185, 129, 0.3); transition: all 0.3s ease;">
                    <div style="font-size: 2.5em; margin-bottom: 15px; color: #10b981;">🔧</div>
                    <h4 style="color: #10b981; margin-bottom: 15px; font-size: 1.2em;">기술 지원</h4>
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <a href="mailto:pertz7709@gmail.com" style="color: #e2e8f0; text-decoration: none; font-weight: 500; font-size: 1.1em; transition: color 0.3s ease;" onmouseover="this.style.color='#10b981'" onmouseout="this.style.color='#e2e8f0'">
                            📨 pertz7709@gmail.com
                        </a>
                    </div>
                    <div style="color: #94a3b8; font-size: 0.9em; margin-top: 10px;">
                        • API 연동 지원 • 기술 문의<br>
                        • 개발자 지원 • 시스템 통합
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.1);">
                <p style="color: #94a3b8; font-size: 1.1em; line-height: 1.6;">
                    <strong style="color: #3b82f6;">NEXAUTH™</strong>는 관계기반 인증의 혁신을 선도합니다.<br>
                    <span style="font-size: 0.9em; opacity: 0.8;">
                        The Nexus of Trust - 세상에서 가장 안전하고 정확한 100% 신원인증 시스템
                    </span>
                </p>
            </div>
        </div>
    </div>
    
    <div class="popup" id="alertPopup">
        <h3 id="popupTitle">⚠️ 알림</h3>
        <p id="popupMessage"></p>
        <button onclick="closePopup()">확인</button>
    </div>
    
    <div class="visualization-modal" id="vizModal">
        <button class="close-modal" onclick="closeVizModal()">✕</button>
        <h3 id="vizTitle"></h3>
        <div class="visualization-content" id="vizContent"></div>
    </div>
    
    <script>
        // 전역 변수 및 설정
        const CONFIG = {
            VISUAL_SPEED: { MIN: 1, MAX: 10, DEFAULT: 5 },
            AUTO_SPEED: { MIN: 1, MAX: 10, DEFAULT: 5 },
            VALIDATION: {
                NAME_PATTERN: /^[가-힣a-zA-Z\s]{2,20}$/,
                PHONE_PATTERN: /^010-\d{4}-\d{4}$/,
                PASSWORD_PATTERN: /^.{4,20}$/
            }
        };
        
        // 애플리케이션 상태 관리
        const state = {
            currentStage: 1,
            currentMode: 'auto',
            isTestRunning: false,
            visualSpeed: CONFIG.VISUAL_SPEED.DEFAULT,
            autoSpeed: CONFIG.AUTO_SPEED.DEFAULT,
            currentUserData: { name: '', phone: '', password: '' },
            selectedStep: 1
        };
        
        // 타이머 관리 (개선된 버전)
        const timers = new Set();
        const intervals = new Set();
        
        function setTimer(callback, delay) {
            const id = setTimeout(() => {
                timers.delete(id);
                callback();
            }, delay);
            timers.add(id);
            return id;
        }
        
        function setIntervalSafe(callback, delay) {
            const id = setInterval(callback, delay);
            intervals.add(id);
            return id;
        }
        
        function clearAllTimers() {
            timers.forEach(id => clearTimeout(id));
            intervals.forEach(id => clearInterval(id));
            timers.clear();
            intervals.clear();
        }
        
        // 대화 데이터
        const conversationData = {
            family: [
                { type: 'sent', text: '엄마 오늘 저녁 뭐해요?', medium: 'SMS', icon: '📱' },
                { type: 'received', text: '된장찌개 끓이려고 하는데 먹고 갈거니?', medium: 'SMS', icon: '📱' },
                { type: 'sent', text: '네 퇴근하고 들를게요', medium: 'SMS', icon: '📱' },
                { type: 'received', text: '그래 천천히 와라. 아빠도 오신대', medium: 'SMS', icon: '📱' },
                { type: 'sent', text: '아빠도요? 오랜만이네요', medium: 'SMS', icon: '📱' },
                { type: 'received', text: '응 일찍 끝나신대. 반찬 더 만들어야겠다', medium: 'SMS', icon: '📱' }
            ],
            work: [
                { type: 'sent', text: '팀장님 내일 회의 자료 공유 부탁드립니다', medium: 'Email', icon: '📧' },
                { type: 'received', text: '네 정리해서 보내드릴게요', medium: 'Email', icon: '📧' },
                { type: 'sent', text: '감사합니다. 몇 시쯤 가능하실까요?', medium: 'Chat', icon: '💬' },
                { type: 'received', text: '오후 3시까지는 보내드리겠습니다', medium: 'Chat', icon: '💬' },
                { type: 'sent', text: '네 확인했습니다', medium: 'Chat', icon: '💬' },
                { type: 'received', text: '혹시 추가로 필요한 자료 있으신가요?', medium: 'Email', icon: '📧' }
            ],
            friend: [
                { type: 'sent', text: '이번 주말에 시간 어때?', medium: 'SNS', icon: '💬' },
                { type: 'received', text: '토요일은 괜찮은데 일요일은 약속 있어', medium: 'SNS', icon: '💬' },
                { type: 'sent', text: '그럼 토요일에 만나자', medium: 'SMS', icon: '📱' },
                { type: 'received', text: '좋아 어디서 볼까?', medium: 'SMS', icon: '📱' },
                { type: 'sent', text: '강남역은 어때? 점심 먹고 영화 보자', medium: 'Voice', icon: '📞' },
                { type: 'received', text: 'ㅇㅋㅇㅋ 몇 시에 만날까?', medium: 'SNS', icon: '💬' }
            ],
            school: [
                { type: 'sent', text: '다음 주 동창회 참석할 수 있어?', medium: 'SNS', icon: '💬' },
                { type: 'received', text: '응! 오랜만에 다들 보고 싶다', medium: 'SNS', icon: '💬' },
                { type: 'sent', text: '선생님도 오신다던데', medium: 'SMS', icon: '📱' },
                { type: 'received', text: '정말? 김 선생님이야?', medium: 'SMS', icon: '📱' },
                { type: 'sent', text: '맞아 담임이셨던 분', medium: 'Voice', icon: '📞' },
                { type: 'received', text: '와 대박! 꼭 가야겠다', medium: 'SNS', icon: '💬' }
            ],
            hobby: [
                { type: 'sent', text: '이번 주 등반 코스 어때?', medium: 'Chat', icon: '💬' },
                { type: 'received', text: '북한산 쪽으로 갈까? 날씨도 좋고', medium: 'Chat', icon: '💬' },
                { type: 'sent', text: '좋지! 장비는 내가 챙길게', medium: 'SMS', icon: '📱' },
                { type: 'received', text: '고마워 물이랑 간식은 내가 준비할게', medium: 'SMS', icon: '📱' },
                { type: 'sent', text: '완벽한 팀워크네 ㅎㅎ', medium: 'Chat', icon: '💬' },
                { type: 'received', text: '등반 후에 맛집도 가자!', medium: 'Voice', icon: '📞' }
            ]
        };
        
        // 초기화 함수
        function initializeApp() {
            try {
                setupSliders();
                updateDemoData();
                createFloatingParticles();
                
                state.selectedStep = 1;
                const firstTab = document.querySelector('[data-step="1"]');
                if (firstTab) {
                    firstTab.classList.add('active');
                }
                
                // 자동 데모 시작
                setTimer(() => {
                    showStage(2);
                    setTimer(() => {
                        showStage(3);
                        setTimer(() => {
                            showStage(4);
                        }, 6000);
                    }, 8000);
                }, 3000);
            } catch (error) {
                console.error('Error initializing app:', error);
            }
        }
        
        // 플로팅 파티클 생성
        function createFloatingParticles() {
            try {
                const container = document.getElementById('headerParticles');
                if (!container) return;
                
                for (let i = 0; i < 20; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 8 + 's';
                    particle.style.animationDuration = (8 + Math.random() * 4) + 's';
                    
                    const colors = ['#3b82f6', '#8b5cf6', '#10b981', '#f59e0b'];
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.background = `radial-gradient(circle, ${color}, transparent)`;
                    
                    container.appendChild(particle);
                }
            } catch (error) {
                console.error('Error creating floating particles:', error);
            }
        }
        
        // 슬라이더 설정
        function setupSliders() {
            try {
                const visualSpeedSlider = document.getElementById('visualSpeed');
                const autoSpeedSlider = document.getElementById('autoSpeed');
                
                if (visualSpeedSlider) {
                    visualSpeedSlider.addEventListener('input', function(e) {
                        state.visualSpeed = parseInt(e.target.value) || CONFIG.VISUAL_SPEED.DEFAULT;
                        const valueElement = document.getElementById('visualSpeedValue');
                        if (valueElement) {
                            valueElement.textContent = state.visualSpeed;
                        }
                    });
                }
                
                if (autoSpeedSlider) {
                    autoSpeedSlider.addEventListener('input', function(e) {
                        state.autoSpeed = parseInt(e.target.value) || CONFIG.AUTO_SPEED.DEFAULT;
                        const valueElement = document.getElementById('autoSpeedValue');
                        if (valueElement) {
                            valueElement.textContent = state.autoSpeed;
                        }
                    });
                }
                
                const visualValueElement = document.getElementById('visualSpeedValue');
                const autoValueElement = document.getElementById('autoSpeedValue');
                
                if (visualValueElement) visualValueElement.textContent = state.visualSpeed;
                if (autoValueElement) autoValueElement.textContent = state.autoSpeed;
            } catch (error) {
                console.error('Error setting up sliders:', error);
            }
        }
        
        // 데이터 유효성 검증
        function validateUserData(name, phone, password) {
            if (!CONFIG.VALIDATION.NAME_PATTERN.test(name)) {
                return { valid: false, message: '성명은 2-20자의 한글 또는 영문이어야 합니다.' };
            }
            
            if (!CONFIG.VALIDATION.PHONE_PATTERN.test(phone)) {
                return { valid: false, message: '전화번호는 010-0000-0000 형식이어야 합니다.' };
            }
            
            if (!CONFIG.VALIDATION.PASSWORD_PATTERN.test(password)) {
                return { valid: false, message: '비밀번호는 4-20자여야 합니다.' };
            }
            
            return { valid: true };
        }
        
        function validateUserInput() {
            const nameElement = document.getElementById('userName');
            const phoneElement = document.getElementById('userPhone');
            const passwordElement = document.getElementById('userPassword');
            
            if (!nameElement || !phoneElement || !passwordElement) {
                return { isValid: false, message: '필수 입력 필드를 찾을 수 없습니다.' };
            }
            
            const name = nameElement.value.trim();
            const phone = phoneElement.value.trim();
            const password = passwordElement.value.trim();
            
            if (!name || !phone || !password) {
                return { isValid: false, message: '모든 정보를 입력해주세요.' };
            }
            
            const validation = validateUserData(name, phone, password);
            return { isValid: validation.valid, message: validation.message || '' };
        }
        
        // 데모 데이터 업데이트
        function updateDemoData() {
            try {
                const nameElement = document.getElementById('userName');
                const phoneElement = document.getElementById('userPhone');
                
                if (nameElement && nameElement.value.trim()) {
                    state.currentUserData.name = nameElement.value.trim();
                    const demoNameElement = document.getElementById('demoUserName');
                    if (demoNameElement) {
                        demoNameElement.textContent = state.currentUserData.name;
                    }
                }
                
                if (phoneElement && phoneElement.value.trim()) {
                    state.currentUserData.phone = phoneElement.value.trim();
                    const demoPhoneElement = document.getElementById('demoUserPhone');
                    if (demoPhoneElement) {
                        demoPhoneElement.textContent = state.currentUserData.phone;
                    }
                }
            } catch (error) {
                console.error('Error updating demo data:', error);
            }
        }
        
        // 스테이지 관리
        function showStage(stage) {
            try {
                clearAllTimers();
                
                document.querySelectorAll('.stage-container').forEach(container => {
                    container.classList.remove('active');
                });
                
                document.querySelectorAll('.stage-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                const stageElement = document.getElementById(`stage${stage}`);
                if (stageElement) {
                    stageElement.classList.add('active');
                }
                
                const stageBtns = document.querySelectorAll('.stage-btn');
                if (stageBtns[stage - 1]) {
                    stageBtns[stage - 1].classList.add('active');
                }
                
                updateDemoData();
                
                switch(stage) {
                    case 2:
                        simulateMessages();
                        break;
                    case 3:
                        simulateAIAnalysis();
                        break;
                    case 4:
                        setTimer(() => {
                            const resultText = document.querySelector('#stage4 .result-text');
                            if (resultText) {
                                resultText.classList.add('rotating');
                                setTimer(() => {
                                    resultText.classList.remove('rotating');
                                }, 2000);
                            }
                        }, 100);
                        break;
                }
                
                state.currentStage = stage;
            } catch (error) {
                console.error('Error showing stage:', error);
            }
        }
        
        // 타이핑 효과
        function typeText(element, text, callback) {
            if (!element) {
                if (callback) callback();
                return;
            }
            
            let index = 0;
            element.textContent = '';
            
            const typingSpeed = Math.max(50 * (11 - state.visualSpeed) / 10, 20);
            
            const interval = setInterval(() => {
                if (index < text.length) {
                    element.textContent += text[index];
                    index++;
                } else {
                    clearInterval(interval);
                    if (callback) callback();
                }
            }, typingSpeed);
        }
        
        // 메시지 시뮬레이션
        function simulateMessages() {
            try {
                ['family', 'work', 'friend', 'school', 'hobby'].forEach(group => {
                    const container = document.getElementById(`${group}Messages`);
                    if (container) {
                        container.innerHTML = '';
                    }
                });
                
                const groups = ['family', 'work', 'friend', 'school', 'hobby'];
                let groupStartDelay = 0;
                
                groups.forEach((groupName, groupIndex) => {
                    const messages = conversationData[groupName];
                    const container = document.getElementById(`${groupName}Messages`);
                    const groupElement = document.getElementById(`${groupName}Group`);
                    
                    if (!container || !groupElement) {
                        console.warn(`Missing elements for group: ${groupName}`);
                        return;
                    }
                    
                    setTimer(() => {
                        groupElement.classList.add('active', 'highlighting');
                        
                        messages.forEach((msg, messageIndex) => {
                            const messageDelay = messageIndex * Math.max(600 * (11 - state.visualSpeed) / 10, 300);
                            
                            setTimer(() => {
                                container.querySelectorAll('.message').forEach(m => {
                                    m.classList.remove('highlighting');
                                });
                                
                                const msgElement = document.createElement('div');
                                msgElement.className = `message ${msg.type} highlighting`;
                                
                                const messageHeader = document.createElement('div');
                                messageHeader.style.cssText = 'display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;';
                                
                                const strong = document.createElement('strong');
                                strong.textContent = msg.type === 'sent' ? (state.currentUserData.name || '김철수') : '관계인';
                                
                                const mediumInfo = document.createElement('span');
                                mediumInfo.style.cssText = 'font-size: 0.8em; color: #94a3b8; display: flex; align-items: center; gap: 4px;';
                                mediumInfo.innerHTML = `${msg.icon} ${msg.medium}`;
                                
                                messageHeader.appendChild(strong);
                                messageHeader.appendChild(mediumInfo);
                                
                                const textSpan = document.createElement('span');
                                textSpan.style.cssText = 'display: block; margin-top: 5px;';
                                
                                msgElement.appendChild(messageHeader);
                                msgElement.appendChild(textSpan);
                                
                                container.appendChild(msgElement);
                                container.scrollTop = container.scrollHeight;
                                
                                typeText(textSpan, msg.text, () => {
                                    setTimer(() => {
                                        msgElement.classList.remove('highlighting');
                                    }, 200);
                                });
                            }, messageDelay);
                        });
                        
                        setTimer(() => {
                            groupElement.classList.remove('highlighting');
                        }, messages.length * Math.max(600 * (11 - state.visualSpeed) / 10, 300) + 500);
                        
                    }, groupStartDelay);
                    
                    groupStartDelay += messages.length * Math.max(600 * (11 - state.visualSpeed) / 10, 300) + 1000;
                });
            } catch (error) {
                console.error('Error simulating messages:', error);
            }
        }
        
        // AI 분석 시뮬레이션
        function simulateAIAnalysis() {
            try {
                const communicationPatterns = [
                    '📱 SMS 호칭 패턴: "엄마", "아빠" 자연스럽게 사용 (100%)',
                    '📧 이메일 존댓말 사용: 업무 대화 일관성 (100%)', 
                    '💬 SNS 이모티콘 빈도: 친구/동창 관계별 차이 (100%)',
                    '📞 음성통화 응답시간: 관계별 고유 패턴 확인 (100%)',
                    '🎓 동창 대화 스타일: 과거 공유 경험 언급 (100%)',
                    '🎨 취미 소통 특성: 전문용어 및 열정 표현 (100%)',
                    '⏰ 통신 시간대 분석: 생활 패턴 일치도 (100%)',
                    '📝 문장 구조 분석: 개인별 고유 문체 (100%)'
                ];
                
                const bigDataPatterns = [
                    '👨‍👩‍👧‍👦 가족 관계 언어 빅데이터 매칭: 100%',
                    '💼 직장 소통 방식 패턴 데이터베이스 일치: 100%',
                    '👥 친구 관계 대화 스타일 빅데이터 정합: 100%',
                    '🎓 동창 네트워크 언어 패턴 외부 DB 매칭: 100%',
                    '🎨 취미 커뮤니티 소통 특성 데이터 연계: 100%',
                    '📊 통신 수단별 사용 패턴 빅데이터 분석: 100%',
                    '🔍 언어 표현 다양성 외부 미디어 비교: 100%',
                    '🎯 종합 정합성 최종 계산: 100%'
                ];
                
                const commContainer = document.getElementById('communicationPatterns');
                const bigDataContainer = document.getElementById('bigDataPatterns');
                
                if (commContainer) commContainer.innerHTML = '';
                if (bigDataContainer) bigDataContainer.innerHTML = '';
                
                const patternInterval = Math.max(500 * (11 - state.visualSpeed) / 10, 250);
                
                communicationPatterns.forEach((pattern, index) => {
                    setTimer(() => {
                        const item = document.createElement('div');
                        item.className = 'pattern-item slide-left';
                        item.textContent = pattern;
                        if (commContainer) {
                            commContainer.appendChild(item);
                        }
                    }, index * patternInterval);
                });
                
                bigDataPatterns.forEach((pattern, index) => {
                    setTimer(() => {
                        const item = document.createElement('div');
                        item.className = 'pattern-item slide-right';
                        item.textContent = pattern;
                        if (bigDataContainer) {
                            bigDataContainer.appendChild(item);
                            
                            setTimer(() => {
                                if (commContainer && commContainer.children[index]) {
                                    commContainer.children[index].classList.add('highlighted');
                                    item.classList.add('highlighted');
                                }
                            }, patternInterval / 2);
                        }
                    }, (index * patternInterval) + (patternInterval / 2));
                });
                
                const totalAnalysisTime = Math.max(communicationPatterns.length, bigDataPatterns.length) * patternInterval + patternInterval;
                
                setTimer(() => {
                    const progressBar = document.getElementById('analysisProgress');
                    if (progressBar) {
                        const progressDuration = Math.max(2000 * (11 - state.visualSpeed) / 10, 1000);
                        progressBar.style.transition = `width ${progressDuration}ms ease-out`;
                        progressBar.style.width = '100%';
                        
                        setTimer(() => {
                            const resultElement = document.getElementById('analysisResult');
                            if (resultElement) {
                                resultElement.style.color = '#10b981';
                                resultElement.innerHTML = 
                                    `✅ NEXAUTH AI 빅데이터 분석 완료: <strong>${state.currentUserData.name || '김철수'}님</strong> 동일인으로 확인되었습니다 (신뢰도 <strong>100%</strong>)`;
                            }
                        }, progressDuration + 200);
                    }
                }, totalAnalysisTime + 500);
            } catch (error) {
                console.error('Error simulating AI analysis:', error);
            }
        }
        
        // 모드 설정
        function setMode(mode) {
            try {
                state.currentMode = mode;
                document.querySelectorAll('.mode-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                if (event && event.target) {
                    event.target.classList.add('active');
                }
                
                if (mode === 'auto') {
                    const userNameElement = document.getElementById('userName');
                    const userPhoneElement = document.getElementById('userPhone');
                    const userPasswordElement = document.getElementById('userPassword');
                    
                    if (userNameElement) userNameElement.value = '';
                    if (userPhoneElement) userPhoneElement.value = '';
                    if (userPasswordElement) userPasswordElement.value = '';
                    updateDemoData();
                }
            } catch (error) {
                console.error('Error setting mode:', error);
            }
        }
        
        // 자동 입력 효과
        async function autoTypeInput(fieldId, text) {
            try {
                const field = document.getElementById(fieldId);
                if (!field) return;
                
                field.value = '';
                field.focus();
                
                for (let i = 0; i < text.length; i++) {
                    field.value += text[i];
                    await new Promise(resolve => setTimeout(resolve, Math.max(120 * (11 - state.autoSpeed) / 10, 50)));
                }
                field.blur();
                updateDemoData();
            } catch (error) {
                console.error('Error in autoTypeInput:', error);
            }
        }
        
        // 팝업 관리
        function showPopup(message, isError = false) {
            try {
                const popup = document.getElementById('alertPopup');
                const title = document.getElementById('popupTitle');
                const messageElement = document.getElementById('popupMessage');
                
                if (!popup || !title || !messageElement) return;
                
                if (isError) {
                    popup.classList.add('error');
                    title.textContent = '❌ 오류';
                } else {
                    popup.classList.remove('error');
                    title.textContent = '⚠️ 알림';
                }
                
                messageElement.textContent = message;
                popup.classList.add('show');
            } catch (error) {
                console.error('Error showing popup:', error);
            }
        }
        
        function closePopup() {
            try {
                const popup = document.getElementById('alertPopup');
                if (popup) {
                    popup.classList.remove('show');
                }
            } catch (error) {
                console.error('Error closing popup:', error);
            }
        }
        
        // 시각화 모달 관리
        function showVizModal(title, stepIndex) {
            try {
                const modal = document.getElementById('vizModal');
                const titleElement = document.getElementById('vizTitle');
                const content = document.getElementById('vizContent');
                
                if (!modal || !titleElement || !content) {
                    console.warn('Missing modal elements');
                    return;
                }
                
                titleElement.textContent = title;
                content.innerHTML = '';
                
                modal.classList.add('show');
                
                setTimer(() => {
                    createStepVisualization(stepIndex, content);
                }, 100);
                
            } catch (error) {
                console.error('Error showing viz modal:', error);
            }
        }
        
        function closeVizModal() {
            try {
                const modal = document.getElementById('vizModal');
                if (modal) {
                    modal.classList.remove('show');
                    
                    setTimer(() => {
                        const content = document.getElementById('vizContent');
                        if (content) {
                            content.innerHTML = '';
                        }
                    }, 100);
                }
            } catch (error) {
                console.error('Error closing viz modal:', error);
            }
        }
        
        // 단계별 시각화 생성
        function createStepVisualization(step, container) {
            if (!container) {
                console.warn('Container not found for step visualization');
                return;
            }
            
            try {
                const userName = state.currentUserData.name || '김철수';
                const userPhone = state.currentUserData.phone || '010-1234-5678';
                
                switch(step) {
                    case 1:
                        createStep1Viz(container, userName, userPhone);
                        break;
                    case 2:
                        createStep2Viz(container);
                        break;
                    case 3:
                        createStep3Viz(container);
                        break;
                    case 4:
                        createStep4Viz(container);
                        break;
                    case 5:
                        createStep5Viz(container);
                        break;
                    case 6:
                        createStep6Viz(container, userName);
                        break;
                    default:
                        console.warn('Unknown step:', step);
                }
            } catch (error) {
                console.error('Error creating step visualization:', error);
            }
        }
        
        function createStep1Viz(container, userName, userPhone) {
            try {
                container.innerHTML = `
                    <div class="viz-user" style="left: 20%; top: 50%;">
                        <span>👤</span>
                    </div>
                    <div class="viz-server" style="right: 20%; top: 50%;">
                        <span>🖥️</span>
                    </div>
                    <div class="viz-message" style="left: 35%; top: 30%;">
                        성명: ${userName}
                    </div>
                    <div class="viz-message" style="left: 35%; top: 50%;">
                        전화: ${userPhone}
                    </div>
                    <div class="viz-message" style="left: 35%; top: 70%;">
                        비밀번호: ****
                    </div>
                `;
                
                setTimer(() => {
                    for (let i = 0; i < 5; i++) {
                        setTimer(() => {
                            const flow = document.createElement('div');
                            flow.className = 'data-flow';
                            flow.style.left = '40%';
                            flow.style.top = '50%';
                            container.appendChild(flow);
                        }, i * 300);
                    }
                }, 1000);
            } catch (error) {
                console.error('Error in createStep1Viz:', error);
            }
        }
        
        function createStep2Viz(container) {
            try {
                container.innerHTML = `
                    <div style="position: absolute; left: 10%; top: 30%; transform: translateY(-50%); text-align: center; padding: 25px; background: rgba(59, 130, 246, 0.2); border: 3px solid #3b82f6; border-radius: 20px; backdrop-filter: blur(15px); box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3); z-index: 10;">
                        <div style="font-size: 3em; margin-bottom: 15px; animation: pulse 2s infinite;">🖥️</div>
                        <div style="color: #3b82f6; font-weight: bold; font-size: 1.2em; margin-bottom: 8px;">NEXAUTH 중앙시스템</div>
                        <div style="color: #94a3b8; font-size: 1em;">관계인 확인 요청 발송</div>
                        <div style="color: #10b981; font-size: 0.9em; margin-top: 10px;">📤 요청 발송 중...</div>
                    </div>
                    <div style="position: absolute; right: 10%; top: 20%; transform: translateY(0); text-align: center; z-index: 10;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 15px; max-width: 400px;">
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.2); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">👨‍👩‍👧‍👦</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">가족</div>
                                <div style="color: #64748b; font-size: 0.7em; margin-top: 3px;">3명</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.2); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">💼</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">직장</div>
                                <div style="color: #64748b; font-size: 0.7em; margin-top: 3px;">2명</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.2); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">👥</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">친구</div>
                                <div style="color: #64748b; font-size: 0.7em; margin-top: 3px;">2명</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.2); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">🎓</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">동창</div>
                                <div style="color: #64748b; font-size: 0.7em; margin-top: 3px;">2명</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.2); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">🎨</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">취미</div>
                                <div style="color: #64748b; font-size: 0.7em; margin-top: 3px;">2명</div>
                            </div>
                        </div>
                    </div>
                `;
                
                setTimer(() => {
                    for (let i = 0; i < 6; i++) {
                        const arrow = document.createElement('div');
                        arrow.innerHTML = '➤';
                        arrow.style.cssText = `
                            position: absolute;
                            left: ${40 + i * 8}%;
                            top: ${45 + Math.sin(i * 0.5) * 15}%;
                            font-size: 2.5em;
                            color: #3b82f6;
                            animation: pulse 2s infinite;
                            animation-delay: ${i * 0.3}s;
                            z-index: 5;
                            filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.6));
                        `;
                        
                        const particle = document.createElement('div');
                        particle.style.cssText = `
                            position: absolute;
                            left: ${35 + i * 10}%;
                            top: ${50 + Math.sin(i * 1.2) * 10}%;
                            width: 12px;
                            height: 12px;
                            background: radial-gradient(circle, #3b82f6, #8b5cf6);
                            border-radius: 50%;
                            animation: dataFlow 2.5s infinite;
                            animation-delay: ${i * 0.4}s;
                            z-index: 5;
                            box-shadow: 0 0 15px rgba(59, 130, 246, 0.8);
                        `;
                        
                        container.appendChild(arrow);
                        container.appendChild(particle);
                    }
                }, 800);
            } catch (error) {
                console.error('Error in createStep2Viz:', error);
            }
        }
        
        function createStep3Viz(container) {
            try {
                container.innerHTML = `
                    <div style="position: absolute; left: 10%; top: 10%; transform: translateY(0); text-align: center; z-index: 10;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 15px; max-width: 400px;">
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.3); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">👨‍👩‍👧‍👦</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">가족 응답</div>
                                <div style="color: #10b981; font-size: 0.7em; margin-top: 3px; font-weight: bold;">✅ 3/3 완료</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.3); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">💼</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">직장 응답</div>
                                <div style="color: #10b981; font-size: 0.7em; margin-top: 3px; font-weight: bold;">✅ 2/2 완료</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.3); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">👥</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">친구 응답</div>
                                <div style="color: #10b981; font-size: 0.7em; margin-top: 3px; font-weight: bold;">✅ 2/2 완료</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.3); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">🎓</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">동창 응답</div>
                                <div style="color: #10b981; font-size: 0.7em; margin-top: 3px; font-weight: bold;">✅ 2/2 완료</div>
                            </div>
                            <div style="padding: 15px; background: rgba(16, 185, 129, 0.3); border: 3px solid #10b981; border-radius: 15px; backdrop-filter: blur(10px); min-width: 100px;">
                                <div style="font-size: 1.5em; margin-bottom: 5px;">🎨</div>
                                <div style="color: #10b981; font-weight: bold; font-size: 0.9em;">취미 응답</div>
                                <div style="color: #10b981; font-size: 0.7em; margin-top: 3px; font-weight: bold;">✅ 2/2 완료</div>
                            </div>
                        </div>
                    </div>
                    <div style="position: absolute; right: 10%; top: 50%; transform: translateY(-50%); text-align: center; padding: 25px; background: rgba(59, 130, 246, 0.2); border: 3px solid #3b82f6; border-radius: 20px; backdrop-filter: blur(15px); box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3); z-index: 10;">
                        <div style="font-size: 3em; margin-bottom: 15px; animation: pulse 2s infinite;">🖥️</div>
                        <div style="color: #3b82f6; font-weight: bold; font-size: 1.2em; margin-bottom: 8px;">NEXAUTH 중앙시스템</div>
                        <div style="color: #94a3b8; font-size: 1em; margin-bottom: 8px;">관계인 응답 수신 중</div>
                        <div style="color: #10b981; font-size: 1.1em; margin-top: 10px; font-weight: bold;">📥 수신완료: 11/11 ✅</div>
                    </div>
                `;
                
                setTimer(() => {
                    for (let i = 0; i < 6; i++) {
                        const arrow = document.createElement('div');
                        arrow.innerHTML = '➤';
                        arrow.style.cssText = `
                            position: absolute;
                            left: ${60 - i * 8}%;
                            top: ${45 + Math.sin(i * 0.5) * 15}%;
                            font-size: 2.5em;
                            color: #10b981;
                            animation: pulse 2s infinite;
                            animation-delay: ${i * 0.3}s;
                            z-index: 5;
                            filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.6));
                        `;
                        
                        const particle = document.createElement('div');
                        particle.style.cssText = `
                            position: absolute;
                            left: ${65 - i * 10}%;
                            top: ${50 + Math.sin(i * 1.2) * 10}%;
                            width: 12px;
                            height: 12px;
                            background: radial-gradient(circle, #10b981, #059669);
                            border-radius: 50%;
                            animation: dataFlow 2.5s infinite;
                            animation-delay: ${i * 0.4}s;
                            z-index: 5;
                            box-shadow: 0 0 15px rgba(16, 185, 129, 0.8);
                        `;
                        
                        container.appendChild(arrow);
                        container.appendChild(particle);
                    }
                }, 800);
            } catch (error) {
                console.error('Error in createStep3Viz:', error);
            }
        }
        
        function createStep4Viz(container) {
            try {
                const wrapper = document.createElement('div');
                wrapper.style.cssText = 'position: absolute; left: 50%; top: 20px; transform: translateX(-50%); text-align: center; width: 100%; height: calc(100% - 40px); overflow-y: auto;';
                
                wrapper.innerHTML = `
                    <div style="font-size: 4em; margin-bottom: 20px;">🤖</div>
                    <div style="color: #3b82f6; font-size: 1.5em; margin-bottom: 20px;">AI 빅데이터 분석 중...</div>
                    <div id="modalAnalysisViz" style="width: 100%; height: 400px; margin: 0 auto; overflow-y: auto;"></div>
                `;
                
                container.appendChild(wrapper);
                
                setTimer(() => {
                    const analysisContainer = document.getElementById('modalAnalysisViz');
                    if (analysisContainer) {
                        const patterns = [
                            { name: '가족 패턴', score: 100, icon: '👨‍👩‍👧‍👦', color: '#10b981' },
                            { name: '직장 패턴', score: 100, icon: '💼', color: '#3b82f6' },
                            { name: '친구 패턴', score: 100, icon: '👥', color: '#8b5cf6' },
                            { name: '동창 패턴', score: 100, icon: '🎓', color: '#f59e0b' },
                            { name: '취미 패턴', score: 100, icon: '🎨', color: '#ef4444' }
                        ];
                        
                        patterns.forEach((pattern, i) => {
                            setTimer(() => {
                                const titleDiv = document.createElement('div');
                                titleDiv.style.cssText = `
                                    width: 100%;
                                    text-align: center;
                                    margin: 20px 0 8px 0;
                                    color: ${pattern.color};
                                    font-weight: bold;
                                    font-size: 1.1em;
                                    opacity: 0;
                                    animation: fadeIn 0.8s ease-out forwards;
                                `;
                                titleDiv.textContent = `${pattern.icon} ${pattern.name} 분석 중...`;
                                analysisContainer.appendChild(titleDiv);
                                
                                setTimer(() => {
                                    const bar = document.createElement('div');
                                    bar.style.cssText = `
                                        width: 100%;
                                        height: 50px;
                                        background: linear-gradient(90deg, ${pattern.color}20 0%, ${pattern.color}40 ${pattern.score}%);
                                        margin: 8px 0 25px 0;
                                        border-radius: 25px;
                                        display: flex;
                                        align-items: center;
                                        padding: 0 25px;
                                        color: white;
                                        font-weight: bold;
                                        font-size: 1.1em;
                                        opacity: 0;
                                        animation: slideInRight 1.2s ease-out forwards;
                                        position: relative;
                                        overflow: hidden;
                                        box-shadow: 0 4px 15px ${pattern.color}30;
                                        border: 1px solid ${pattern.color}40;
                                    `;
                                    
                                    bar.innerHTML = `
                                        <span style="z-index: 2; position: relative; color: ${pattern.color};">${pattern.name}: ${pattern.score}%</span>
                                        <div style="
                                            position: absolute;
                                            top: 0;
                                            left: 0;
                                            right: 0;
                                            bottom: 0;
                                            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
                                            animation: shimmer 2s infinite;
                                        "></div>
                                    `;
                                    analysisContainer.appendChild(bar);
                                    
                                    setTimer(() => {
                                        titleDiv.innerHTML = `${pattern.icon} ${pattern.name} 분석 완료 ✅`;
                                        titleDiv.style.color = '#10b981';
                                        titleDiv.style.textShadow = '0 0 10px rgba(16, 185, 129, 0.5)';
                                    }, 1200);
                                }, 600);
                            }, i * 1200);
                        });
                        
                        const finalResultDelay = patterns.length * 1200 + 2000;
                        setTimer(() => {
                            const finalResult = document.createElement('div');
                            finalResult.innerHTML = `
                                <div style="
                                    text-align: center;
                                    margin-top: 25px;
                                    padding: 20px;
                                    background: rgba(16, 185, 129, 0.1);
                                    border: 2px solid #10b981;
                                    border-radius: 15px;
                                    color: #10b981;
                                    font-weight: bold;
                                    font-size: 1.3em;
                                    opacity: 0;
                                    animation: bounceIn 1.2s ease-out forwards;
                                    box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
                                ">
                                    🎯 AI 분석 완료!<br>
                                    <span style="font-size: 0.9em; margin-top: 8px; display: block;">종합 신뢰도: 100%</span>
                                    <span style="font-size: 0.8em; margin-top: 5px; display: block; opacity: 0.8;">
                                        동일인 확률: 매우 높음 (5개 관계그룹 분석)
                                    </span>
                                </div>
                            `;
                            analysisContainer.appendChild(finalResult);
                        }, finalResultDelay);
                    }
                }, 100);
            } catch (error) {
                console.error('Error in createStep4Viz:', error);
            }
        }
        
        function createStep5Viz(container) {
            try {
                const wrapper = document.createElement('div');
                wrapper.style.cssText = 'position: absolute; width: 100%; height: 100%; display: flex; align-items: flex-start; justify-content: center; padding-top: 20px; overflow-y: auto;';
                
                const contentDiv = document.createElement('div');
                contentDiv.style.cssText = 'text-align: center;';
                
                const title = document.createElement('h4');
                title.textContent = '실제 대화 패턴 vs 빅데이터 매칭';
                title.style.cssText = 'color: #3b82f6; margin-bottom: 20px;';
                
                const matchingContainer = document.createElement('div');
                matchingContainer.id = 'modalMatchingViz';
                matchingContainer.style.cssText = 'display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; width: 100%; overflow-y: auto;';
                
                contentDiv.appendChild(title);
                contentDiv.appendChild(matchingContainer);
                wrapper.appendChild(contentDiv);
                container.appendChild(wrapper);
                
                // 1단계: 실제 대화 패널 (좌측에서 슬라이드)
                setTimer(() => {
                    const actualConv = document.createElement('div');
                    actualConv.style.cssText = `
                        width: 300px;
                        padding: 20px;
                        background: rgba(59, 130, 246, 0.1);
                        border: 1px solid #3b82f6;
                        border-radius: 15px;
                        opacity: 0;
                        transform: translateX(-100px);
                        animation: slideInLeft 1s ease-out forwards;
                        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2);
                        max-height: 400px;
                        overflow-y: auto;
                    `;
                    
                    const actualTitle = document.createElement('h5');
                    actualTitle.innerHTML = '💬 실제 대화 패턴';
                    actualTitle.style.cssText = 'color: #3b82f6; margin-bottom: 20px; text-align: center; font-size: 1.1em; font-weight: bold;';
                    
                    const actualContent = document.createElement('div');
                    actualContent.style.cssText = 'text-align: left; font-size: 0.95em; line-height: 1.6;';
                    
                    actualConv.appendChild(actualTitle);
                    actualConv.appendChild(actualContent);
                    matchingContainer.appendChild(actualConv);
                    
                    // 대화 샘플을 순차적으로 타이핑 효과로 표시
                    const conversationSamples = [
                        { text: '"엄마 오늘 저녁 뭐해요?" 📱', type: '가족', color: '#3b82f6' },
                        { text: '"팀장님 내일 회의 자료..." 📧', type: '직장', color: '#8b5cf6' },
                        { text: '"이번 주말에 시간 어때?" 💬', type: '친구', color: '#10b981' },
                        { text: '"다음 주 동창회 참석할 수 있어?" 💬', type: '동창', color: '#f59e0b' },
                        { text: '"이번 주 등반 코스 어때?" 💬', type: '취미', color: '#ef4444' }
                    ];
                    
                    conversationSamples.forEach((sample, i) => {
                        setTimer(() => {
                            const p = document.createElement('p');
                            p.style.cssText = `
                                margin: 12px 0; 
                                padding: 10px; 
                                background: rgba(59, 130, 246, 0.05);
                                border-radius: 8px;
                                border-left: 3px solid ${sample.color};
                                opacity: 0;
                                transform: translateX(-30px);
                                animation: slideInLeft 0.6s ease-out forwards;
                                animation-delay: ${i * 0.1}s;
                            `;
                            
                            const labelSpan = document.createElement('span');
                            labelSpan.style.cssText = `color: ${sample.color}; font-weight: bold; font-size: 0.85em;`;
                            labelSpan.textContent = `[${sample.type}] `;
                            
                            const textSpan = document.createElement('span');
                            textSpan.style.cssText = 'color: #e2e8f0;';
                            
                            p.appendChild(labelSpan);
                            p.appendChild(textSpan);
                            actualContent.appendChild(p);
                            
                            // 타이핑 효과 적용
                            setTimer(() => {
                                typeTextEffect(textSpan, sample.text, 30);
                            }, 300);
                        }, i * 800);
                    });
                }, 300);
                
                // 2단계: 빅데이터 패턴 패널 (우측에서 슬라이드)
                setTimer(() => {
                    const bigDataPattern = document.createElement('div');
                    bigDataPattern.style.cssText = `
                        width: 300px;
                        padding: 20px;
                        background: rgba(16, 185, 129, 0.1);
                        border: 1px solid #10b981;
                        border-radius: 15px;
                        opacity: 0;
                        transform: translateX(100px);
                        animation: slideInRight 1s ease-out forwards;
                        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);
                        max-height: 400px;
                        overflow-y: auto;
                    `;
                    
                    const bigDataTitle = document.createElement('h5');
                    bigDataTitle.innerHTML = '🤖 AI 빅데이터 매칭';
                    bigDataTitle.style.cssText = 'color: #10b981; margin-bottom: 20px; text-align: center; font-size: 1.1em; font-weight: bold;';
                    
                    const bigDataContent = document.createElement('div');
                    bigDataContent.style.cssText = 'text-align: left; font-size: 0.95em; line-height: 1.6;';
                    
                    bigDataPattern.appendChild(bigDataTitle);
                    bigDataPattern.appendChild(bigDataContent);
                    matchingContainer.appendChild(bigDataPattern);
                    
                    // AI 매칭 결과를 순차적으로 타이핑 효과로 표시
                    const patterns = [
                        { text: '가족 호칭 패턴 일치: 100%', color: '#10b981', icon: '✅' },
                        { text: '직장 소통 방식 일치: 100%', color: '#059669', icon: '✅' },
                        { text: '친구 대화 스타일 일치: 100%', color: '#047857', icon: '✅' },
                        { text: '동창 네트워크 언어 일치: 100%', color: '#065f46', icon: '✅' },
                        { text: '취미 커뮤니티 소통 일치: 100%', color: '#064e3b', icon: '✅' },
                        { text: '통신수단별 패턴 일치: 100%', color: '#052e16', icon: '✅' },
                        { text: '종합 정합성: 100%', color: '#065f46', icon: '🎯' }
                    ];
                    
                    patterns.forEach((pattern, i) => {
                        setTimer(() => {
                            const p = document.createElement('p');
                            p.style.cssText = `
                                margin: 12px 0; 
                                padding: 12px;
                                background: rgba(16, 185, 129, 0.05);
                                border-radius: 8px;
                                border: 1px solid rgba(16, 185, 129, 0.2);
                                color: ${pattern.color};
                                font-weight: ${i === patterns.length - 1 ? 'bold' : 'normal'};
                                opacity: 0; 
                                transform: translateX(30px);
                                animation: slideInRight 0.6s ease-out forwards;
                                animation-delay: ${i * 0.1}s;
                                position: relative;
                                overflow: hidden;
                            `;
                            
                            const iconSpan = document.createElement('span');
                            iconSpan.textContent = pattern.icon + ' ';
                            iconSpan.style.cssText = 'margin-right: 8px; font-size: 1.1em;';
                            
                            const textSpan = document.createElement('span');
                            
                            p.appendChild(iconSpan);
                            p.appendChild(textSpan);
                            bigDataContent.appendChild(p);
                            
                            // 타이핑 효과 적용
                            setTimer(() => {
                                typeTextEffect(textSpan, pattern.text, 25);
                                
                                // 마지막 항목에 특별 효과
                                if (i === patterns.length - 1) {
                                    setTimer(() => {
                                        p.style.background = 'rgba(16, 185, 129, 0.15)';
                                        p.style.boxShadow = '0 0 20px rgba(16, 185, 129, 0.4)';
                                        p.style.transform = 'scale(1.02)';
                                    }, pattern.text.length * 25 + 200);
                                }
                            }, 400);
                        }, i * 700);
                    });
                }, 1200);
                
                // 3단계: 매칭 완료 이펙트 (중앙에서 등장)
                setTimer(() => {
                    const matchingComplete = document.createElement('div');
                    matchingComplete.innerHTML = `
                        <div style="
                            position: absolute;
                            top: 45%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            text-align: center;
                            opacity: 0;
                            animation: bounceIn 1.2s ease-out forwards;
                        ">
                            <div style="
                                font-size: 4em;
                                margin-bottom: 15px;
                                animation: pulse 2s infinite;
                                filter: drop-shadow(0 0 15px rgba(16, 185, 129, 0.6));
                            ">🔗</div>
                            <div class="typing-text" style="
                                color: #10b981;
                                font-size: 1.3em;
                                font-weight: bold;
                                text-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
                                min-height: 1.5em;
                            "></div>
                        </div>
                    `;
                    container.appendChild(matchingComplete);
                    
                    // 타이핑 효과로 텍스트 표시
                    setTimer(() => {
                        const typingElement = matchingComplete.querySelector('.typing-text');
                        if (typingElement) {
                            typeTextEffect(typingElement, '패턴 매칭 완료!', 80);
                        }
                    }, 600);
                }, 4000);
                
                // 4단계: 최종 체크마크 (아래에서 등장)
                setTimer(() => {
                    const finalCheckMark = document.createElement('div');
                    finalCheckMark.innerHTML = `
                        <div style="
                            position: absolute;
                            top: 70%;
                            left: 50%;
                            transform: translateX(-50%);
                            font-size: 5em;
                            color: #10b981;
                            opacity: 0;
                            animation: bounceIn 1s ease-out forwards;
                            text-shadow: 0 0 25px rgba(16, 185, 129, 0.8);
                            filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.6));
                        ">✅</div>
                        <div class="final-typing-text" style="
                            position: absolute;
                            top: 78%;
                            left: 50%;
                            transform: translateX(-50%);
                            color: #10b981;
                            font-weight: bold;
                            font-size: 1.4em;
                            opacity: 0;
                            animation: fadeIn 1s ease-out 0.8s forwards;
                            text-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
                            min-height: 1.5em;
                            white-space: nowrap;
                        "></div>
                    `;
                    container.appendChild(finalCheckMark);
                    
                    // 타이핑 효과로 최종 메시지 표시
                    setTimer(() => {
                        const finalTypingElement = finalCheckMark.querySelector('.final-typing-text');
                        if (finalTypingElement) {
                            typeTextEffect(finalTypingElement, '동일성 검증 완료', 120);
                        }
                    }, 1500);
                }, 5500);
                
            } catch (error) {
                console.error('Error creating step 5 viz:', error);
            }
        }
        
        // 타이핑 효과 전용 함수 (5단계용)
        function typeTextEffect(element, text, speed = 50) {
            if (!element || !text) return;
            
            let index = 0;
            element.textContent = '';
            
            const typeInterval = setInterval(() => {
                if (index < text.length) {
                    element.textContent += text[index];
                    index++;
                } else {
                    clearInterval(typeInterval);
                }
            }, speed);
            
            timers.add(typeInterval);
        }
        
        function createStep6Viz(container, userName) {
            try {
                container.innerHTML = `
                    <div style="position: absolute; left: 50%; top: 40%; transform: translate(-50%, -50%); text-align: center;">
                        <div class="result-icon" style="font-size: 6em; animation: pulse 1s ease-out;">✅</div>
                        <div class="result-text rotating" style="font-size: 2em; color: #10b981; margin: 20px 0;">
                            ${userName}님 본인인증 성공
                        </div>
                        <div style="font-size: 1.5em; color: #94a3b8;">
                            신뢰도: 100%<br>
                            처리 시간: 8.3초<br>
                            관계인: 11명 인증 완료
                        </div>
                    </div>
                `;
                
                setTimer(() => {
                    for (let i = 0; i < 10; i++) {
                        const particle = document.createElement('div');
                        particle.style.cssText = `
                            position: absolute;
                            width: 10px;
                            height: 10px;
                            background: ${['#3b82f6', '#8b5cf6', '#ec4899'][i % 3]};
                            border-radius: 50%;
                            left: 50%;
                            top: 50%;
                            animation: particle${i % 3} 2s ease-out forwards;
                        `;
                        container.appendChild(particle);
                    }
                }, 500);
            } catch (error) {
                console.error('Error in createStep6Viz:', error);
            }
        }
        
        // 단계 실행
        function executeStep(stepIndex) {
            try {
                updateDemoData();
                
                document.querySelectorAll('.step-tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                const selectedTab = document.querySelector(`[data-step="${stepIndex}"]`);
                if (selectedTab) {
                    selectedTab.classList.add('active');
                }
                
                state.selectedStep = stepIndex;
                
                const stepTitles = {
                    1: '1단계: 본인인증 요청',
                    2: '2단계: 관계인 확인 요청 발송', 
                    3: '3단계: 관계인 응답 수신',
                    4: '4단계: AI 빅데이터 분석',
                    5: '5단계: 동일성 검증',
                    6: '6단계: 인증 완료'
                };
                
                showVizModal(stepTitles[stepIndex], stepIndex);
                
                // 6단계는 출력시간을 50% 단축 (4초 -> 2초)
                const displayTime = stepIndex === 6 ? 2000 : stepIndex >= 3 ? 8000 : 4000;
                setTimer(() => {
                    closeVizModal();
                }, displayTime);
            } catch (error) {
                console.error('Error in executeStep:', error);
            }
        }
        
        // 전체 테스트 시작
        async function startFullTest() {
            if (state.isTestRunning) return;
            
            try {
                // 자동 모드일 경우 자동 입력
                if (state.currentMode === 'auto') {
                    await autoTypeInput('userName', '김민수');
                    await autoTypeInput('userPhone', '010-5678-1234');
                    await autoTypeInput('userPassword', 'secure2025');
                }
                
                const validationResult = validateUserInput();
                if (!validationResult.isValid) {
                    showPopup(validationResult.message, true);
                    return;
                }
                
                state.isTestRunning = true;
                updateDemoData();
                
                const testBtn = document.getElementById('testBtn');
                const testBtnText = document.getElementById('testBtnText');
                
                if (testBtn) testBtn.disabled = true;
                if (testBtnText) testBtnText.textContent = '전체 프로세스 실행 중...';
                
                const steps = [1, 2, 3, 4, 5, 6];
                let currentStepIndex = 0;
                
                function executeNextStep() {
                    if (currentStepIndex < steps.length) {
                        const stepNumber = steps[currentStepIndex];
                        
                        document.querySelectorAll('.step-tab-btn').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        
                        const currentTab = document.querySelector(`[data-step="${stepNumber}"]`);
                        if (currentTab) {
                            currentTab.classList.add('active');
                        }
                        
                        executeStep(stepNumber);
                        
                        currentStepIndex++;
                        
                        // 6단계는 출력시간을 50% 단축 (9초 -> 3초)
                        const delay = stepNumber === 6 ? 3000 : stepNumber >= 3 ? 9000 : 5000;
                        setTimer(executeNextStep, delay);
                    } else {
                        state.isTestRunning = false;
                        if (testBtn) testBtn.disabled = false;
                        if (testBtnText) testBtnText.textContent = '전체 프로세스 실행';
                        
                        showPopup('🎉 NEXAUTH 전체 인증 프로세스가 성공적으로 완료되었습니다! ✨ The Nexus of Trust가 여러분의 신원을 확실하게 검증했습니다. 🔒 세상에서 가장 안전하고 혁신적인 관계 기반 인증 시스템을 경험해보세요!', false);
                    }
                }
                
                executeNextStep();
                
            } catch (error) {
                console.error('Error starting full test:', error);
                state.isTestRunning = false;
                const testBtn = document.getElementById('testBtn');
                const testBtnText = document.getElementById('testBtnText');
                if (testBtn) testBtn.disabled = false;
                if (testBtnText) testBtnText.textContent = '전체 프로세스 실행';
                showPopup('테스트 실행 중 오류가 발생했습니다.', true);
            }
        }
        
        // 테스트 초기화 (완전 초기화)
        function resetTest() {
            try {
                // 모든 타이머 정리
                clearAllTimers();
                
                // 상태 완전 초기화
                state.isTestRunning = false;
                state.currentUserData = { name: '', phone: '', password: '' };
                state.selectedStep = 1;
                state.currentStage = 1;
                state.currentMode = 'auto';
                state.visualSpeed = CONFIG.VISUAL_SPEED.DEFAULT;
                state.autoSpeed = CONFIG.AUTO_SPEED.DEFAULT;
                
                // UI 요소 초기화
                const testBtn = document.getElementById('testBtn');
                const testBtnText = document.getElementById('testBtnText');
                
                if (testBtn) testBtn.disabled = false;
                if (testBtnText) testBtnText.textContent = '전체 프로세스 실행';
                
                // 모든 탭에서 active 클래스 제거하고 첫 번째 탭 활성화
                document.querySelectorAll('.step-tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                const firstTab = document.querySelector('[data-step="1"]');
                if (firstTab) {
                    firstTab.classList.add('active');
                }
                
                // 모드 버튼 초기화 (자동 모드로)
                document.querySelectorAll('.mode-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                const autoModeBtn = document.querySelectorAll('.mode-btn')[1];
                if (autoModeBtn) {
                    autoModeBtn.classList.add('active');
                }
                
                // 입력 필드 완전 초기화
                ['userName', 'userPhone', 'userPassword'].forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.value = '';
                        element.classList.remove('error');
                    }
                });
                
                // 슬라이더 값 초기화
                const visualSpeedSlider = document.getElementById('visualSpeed');
                const autoSpeedSlider = document.getElementById('autoSpeed');
                const visualSpeedValue = document.getElementById('visualSpeedValue');
                const autoSpeedValue = document.getElementById('autoSpeedValue');
                
                if (visualSpeedSlider) visualSpeedSlider.value = CONFIG.VISUAL_SPEED.DEFAULT;
                if (autoSpeedSlider) autoSpeedSlider.value = CONFIG.AUTO_SPEED.DEFAULT;
                if (visualSpeedValue) visualSpeedValue.textContent = CONFIG.VISUAL_SPEED.DEFAULT;
                if (autoSpeedValue) autoSpeedValue.textContent = CONFIG.AUTO_SPEED.DEFAULT;
                
                // 분석 결과 초기화
                ['communicationPatterns', 'bigDataPatterns'].forEach(id => {
                    const element = document.getElementById(id);
                    if (element) element.innerHTML = '';
                });
                
                const analysisProgress = document.getElementById('analysisProgress');
                const analysisResult = document.getElementById('analysisResult');
                
                if (analysisProgress) {
                    analysisProgress.style.width = '0%';
                    analysisProgress.style.transition = '';
                }
                if (analysisResult) {
                    analysisResult.textContent = '';
                    analysisResult.style.color = '';
                    analysisResult.innerHTML = '';
                }
                
                // 메시지 컨테이너 초기화
                ['familyMessages', 'workMessages', 'friendMessages', 'schoolMessages', 'hobbyMessages'].forEach(id => {
                    const element = document.getElementById(id);
                    if (element) element.innerHTML = '';
                });
                
                // 관계 그룹 상태 초기화
                ['familyGroup', 'workGroup', 'friendGroup', 'schoolGroup', 'hobbyGroup'].forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.classList.remove('active', 'highlighting');
                    }
                });
                
                // 데모 데이터 기본값으로 초기화
                const demoUserName = document.getElementById('demoUserName');
                const demoUserPhone = document.getElementById('demoUserPhone');
                const demoTrustScore = document.getElementById('demoTrustScore');
                const demoResultDetails = document.getElementById('demoResultDetails');
                
                if (demoUserName) demoUserName.textContent = '김철수';
                if (demoUserPhone) demoUserPhone.textContent = '010-1234-5678';
                if (demoTrustScore) demoTrustScore.textContent = '신뢰도: 100%';
                if (demoResultDetails) {
                    demoResultDetails.innerHTML = `
                        관계인 11명 확인 완료 (가족 3명, 직장 2명, 친구 2명, 동창 2명, 취미 2명)<br>
                        통신 패턴 일치율: 100%<br>
                        빅데이터 정합성: 100%
                    `;
                }
                
                // 테스트 진행 상황 초기화
                const testProgress = document.getElementById('testProgress');
                if (testProgress) testProgress.innerHTML = '';
                
                // 스테이지 버튼 초기화
                document.querySelectorAll('.stage-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                const firstStageBtn = document.querySelector('.stage-btn');
                if (firstStageBtn) {
                    firstStageBtn.classList.add('active');
                }
                
                // 4단계 결과 텍스트 회전 효과 제거
                const resultText = document.querySelector('#stage4 .result-text');
                if (resultText) {
                    resultText.classList.remove('rotating');
                }
                
                // 검증 결과 요소들 초기화
                document.querySelectorAll('.verification-result').forEach(result => {
                    result.classList.remove('show');
                    result.style.opacity = '0';
                    result.style.transform = 'translateY(20px)';
                });
                
                // 패턴 아이템들 초기화
                document.querySelectorAll('.pattern-item').forEach(item => {
                    item.classList.remove('highlighted', 'slide-left', 'slide-right');
                    item.style.opacity = '0';
                });
                
                // 모든 팝업과 모달 닫기
                closeVizModal();
                closePopup();
                
                // 첫 번째 스테이지로 돌아가기
                showStage(1);
                
            } catch (error) {
                console.error('Error resetting test:', error);
            }
        }
        
        // 추가 애니메이션 CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes particle0 {
                to { transform: translate(-100px, -100px); opacity: 0; }
            }
            @keyframes particle1 {
                to { transform: translate(100px, -100px); opacity: 0; }
            }
            @keyframes particle2 {
                to { transform: translate(0, -150px); opacity: 0; }
            }
            @keyframes slideInLeft {
                from { opacity: 0; transform: translateX(-50px); }
                to { opacity: 1; transform: translateX(0); }
            }
            @keyframes slideInRight {
                from { opacity: 0; transform: translateX(50px); }
                to { opacity: 1; transform: translateX(0); }
            }
            @keyframes bounceIn {
                0% { opacity: 0; transform: scale(0.3); }
                50% { opacity: 1; transform: scale(1.05); }
                70% { transform: scale(0.9); }
                100% { opacity: 1; transform: scale(1); }
            }
        `;
        document.head.appendChild(style);
        
        // 전역 에러 핸들링
        window.addEventListener('error', function(event) {
            console.error('Global error:', event.error);
        });
        
        window.addEventListener('unhandledrejection', function(event) {
            console.error('Unhandled promise rejection:', event.reason);
        });
        
        // 페이지 로드 시 초기화
        window.addEventListener('load', function() {
            try {
                initializeApp();
            } catch (error) {
                console.error('Error during app initialization:', error);
            }
        });
        
        // 페이지 언로드 시 정리
        window.addEventListener('beforeunload', function() {
            clearAllTimers();
        });
    </script>
</body>
</html>